# kg-agent (Knowledge Graph Agent)

kg-agent æ˜¯ä¸€ä¸ªåŸºäº Flask + Celery + GraphRAG æŠ€æœ¯æ ˆæ„å»ºçš„çŸ¥è¯†å›¾è°±å¢å¼ºæ£€ç´¢ç³»ç»Ÿï¼Œä¸“ä¸ºå•ä½“æœåŠ¡æ¶æ„è®¾è®¡ï¼Œæä¾›å…¨æ–‡æ£€ç´¢ã€å‘é‡æ£€ç´¢å’Œå›¾è°±æ£€ç´¢çš„æ··åˆæ£€ç´¢èƒ½åŠ›ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **æ··åˆæ£€ç´¢**ï¼šèåˆå…¨æ–‡æ£€ç´¢ (Elasticsearch)ã€å‘é‡æ£€ç´¢ (Milvus/FAISS) å’Œå›¾è°±æ£€ç´¢ (NebulaGraph)
- **å¼‚æ­¥å¤„ç†**ï¼šåŸºäº Celery çš„æ–‡æ¡£å¤„ç†æµæ°´çº¿ï¼Œæ”¯æŒå¤§æ‰¹é‡æ–‡æ¡£å¯¼å…¥
- **çŸ¥è¯†å›¾è°±**ï¼šè‡ªåŠ¨æå–å®ä½“å’Œå…³ç³»ï¼Œæ„å»ºé¢†åŸŸçŸ¥è¯†å›¾è°±
- **å•ä½“æ¶æ„**ï¼šç®€åŒ–éƒ¨ç½²ï¼Œé€‚åˆä¸­å°è§„æ¨¡åº”ç”¨åœºæ™¯
- **API æ–‡æ¡£**ï¼šè‡ªåŠ¨ç”Ÿæˆ OpenAPI/Swagger æ–‡æ¡£

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Web æ¡†æ¶**: Flask 3.0
- **å¼‚æ­¥ä»»åŠ¡**: Celery 5.3 + Redis
- **å…¨æ–‡æ£€ç´¢**: Elasticsearch 8.x
- **å›¾æ•°æ®åº“**: NebulaGraph 3.x
- **å‘é‡æ£€ç´¢**: Milvus Lite / FAISS
- **NLP æ¨¡å‹**: BGE-M3 (å‘é‡åŒ–), LLM (å®ä½“æŠ½å–)
- **éƒ¨ç½²**: Docker Compose

## ğŸ“‚ ç›®å½•ç»“æ„

```
kg-agent/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ backend/
â”‚       â”œâ”€â”€ app/
â”‚       â”‚   â”œâ”€â”€ api/           # API è·¯ç”±
â”‚       â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡é€»è¾‘
â”‚       â”‚   â”œâ”€â”€ models/        # æ•°æ®æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ tasks/         # Celery ä»»åŠ¡
â”‚       â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚       â””â”€â”€ main.py            # åº”ç”¨å…¥å£
â”œâ”€â”€ tests/                     # æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ docker/                    # Docker é…ç½®
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â””â”€â”€ pyproject.toml             # ä¾èµ–ç®¡ç†
```

## ğŸš¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.11+
- Docker & Docker Compose

### å®‰è£…ä¾èµ–

```bash
pip install poetry
poetry install
```

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
docker-compose -f docker-compose.dev.yml up -d
poetry run python src/backend/main.py
```

## ğŸ“ æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒ `docs/` ç›®å½•æˆ– `.trae/documents/kg-agentå®æ–½è§„åˆ’.md`ã€‚
