在nexus-lite项目中，确保Elasticsearch对 /root/lite-webviewer/src/main/resources/application.yml 文件中第33行的 root-dirs: /root/lite-webviewer/docs 配置项建立搜索索引的完整流程如下：

### 配置与实现关联
1. 配置设置 ：
   
   - 在 `application.yml` 中，您可以看到三个关键配置：
     - app.scan.root-dirs: /root/lite-webviewer/docs - 指定要扫描的文档根目录
     - app.search.use-es: true - 启用Elasticsearch功能
     - app.search.es-index-name: nexus-lite-docs - 设置Elasticsearch索引名称
2. 文件扫描流程 ：
   
   - `FileScanServiceImpl.java` 通过 @Value("${app.scan.root-dirs}") 直接读取您配置的根目录
   - 它使用 ForkJoinPool 并行扫描这些目录下的所有文件
   - 对每个文件，调用 searchMetaBuilder.build() 构建搜索元数据
   - 最后通过 searchMetaRepository.saveAll(metas) 将元数据保存到本地JSON文件
3. Elasticsearch索引同步 ：
   
   - `EsIndexService.java` 负责将本地元数据同步到Elasticsearch
   - 它使用 @ConditionalOnProperty(value = "app.search.use-es", havingValue = "true") 注解，确保只有在启用ES时才会生效
   - reindexFromMeta() 方法从本地存储加载所有SearchMeta对象
   - 将每个SearchMeta转换为 `EsDocument.java` 对象
   - 最后通过 repo.saveAll(docs) 将文档保存到Elasticsearch
4. Elasticsearch映射 ：
   
   - EsDocument类使用 @Document(indexName = "${app.search.es-index-name}") 注解，确保数据被保存到配置的索引中
   - 每个字段都有相应的Elasticsearch类型注解，如 @Field(type = FieldType.Text) 用于全文搜索
### 确保ES索引正确建立的关键
1. 确认配置启用 ： app.search.use-es: true 必须设置为true，否则Elasticsearch功能不会激活
2. 文档根目录正确 ： app.scan.root-dirs 必须指向包含您文档的正确路径
3. Elasticsearch连接 ： spring.elasticsearch.uris: http://localhost:9200 必须正确指向运行中的Elasticsearch服务
### 工作原理总结
整个系统的工作流程是：

1. 应用启动时读取配置的根目录
2. 文件扫描服务扫描指定目录下的所有文档
3. 提取文档内容和元数据，保存到本地JSON文件
4. Elasticsearch索引服务定期或按需将本地元数据同步到Elasticsearch索引
5. 搜索服务可以直接查询Elasticsearch获取搜索结果
这种设计实现了文档扫描与索引创建的解耦，同时确保了配置的根目录中的所有文档都会被正确索引到Elasticsearch中。